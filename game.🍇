ğŸ“¦ terminal ğŸ 

ğŸ‡ ğŸ® ğŸ‡
    ğŸ–ğŸ†• running ğŸ‘Œ â¬… ğŸ‘
    ğŸ–ğŸ†• show_info ğŸ‘Œ â¬… ğŸ‘
    ğŸ–ğŸ†• game_width ğŸ”¢ â¬… 8
    ğŸ–ğŸ†• game_height ğŸ”¢ â¬… 8
    ğŸ–ğŸ†• rng ğŸ° â¬… ğŸ†•ğŸ°â—
    ğŸ–ğŸ†• direction ğŸ”¡ â¬… ğŸ”¤rightğŸ”¤
    ğŸ–ğŸ†• snake_body ğŸ¨ğŸšğŸ¨ğŸšğŸ”¢ğŸ†ğŸ† â¬… ğŸ¿ ğŸ¿0 0ğŸ† ğŸ†
    ğŸ–ğŸ†• snake_pos ğŸ¨ğŸšğŸ”¢ğŸ† â¬… ğŸ¿0 0ğŸ†
    ğŸ–ğŸ†• apple_pos ğŸ¨ğŸšğŸ”¢ğŸ† â¬… ğŸ¿0 0ğŸ†
    ğŸ–ğŸ†• score ğŸ”¢ â¬… 0

    â“ ğŸƒâ€â™€ï¸ â¡ ğŸ‘Œ ğŸ‡
        â†© running
    ğŸ‰

    â“ ğŸ•¹ â¡ ğŸ”¡ ğŸ‡
        ğŸ’­ get key from user
        ğŸ“¥ğŸ‡ğŸ–¥â— â¡ input

        ğŸ’­ up direction
        â†ª input ğŸ™Œ 87 ğŸ‘ input ğŸ™Œ 119 ğŸ¤ âdirection ğŸ™Œ ğŸ”¤downğŸ”¤ â— ğŸ‡
            â†© ğŸ”¤upğŸ”¤
        ğŸ‰
        ğŸ’­ down direction
        ğŸ™…â†ªï¸ input ğŸ™Œ 83 ğŸ‘ input ğŸ™Œ 115 ğŸ¤ âdirection ğŸ™Œ ğŸ”¤upğŸ”¤ â— ğŸ‡
            â†© ğŸ”¤downğŸ”¤
        ğŸ‰
        ğŸ’­ right direction
        ğŸ™…â†ªï¸ input ğŸ™Œ 68 ğŸ‘ input ğŸ™Œ 100 ğŸ¤ âdirection ğŸ™Œ ğŸ”¤leftğŸ”¤ â— ğŸ‡
            â†© ğŸ”¤rightğŸ”¤
        ğŸ‰
        ğŸ’­ left direction
        ğŸ™…â†ªï¸ input ğŸ™Œ 65 ğŸ‘ input ğŸ™Œ 97 ğŸ¤ âdirection ğŸ™Œ ğŸ”¤rightğŸ”¤ â— ğŸ‡
            â†© ğŸ”¤leftğŸ”¤
        ğŸ‰
        ğŸ™…â†ª input ğŸ™Œ 81 ğŸ‘ input ğŸ™Œ 113 ğŸ‡
            â†© ğŸ”¤QuitğŸ”¤
        ğŸ‰
        â†© direction
    ğŸ‰

    â— ğŸ›‘ key ğŸ”¡ ğŸ‡
        â†ª key ğŸ™Œ ğŸ”¤QuitğŸ”¤ ğŸ‡
            ğŸ‘‡ ğŸ”š â—
        ğŸ‰
        ğŸ™…â€â™€ï¸ ğŸ‡
            key â¡ ğŸ– direction
        ğŸ‰
    ğŸ‰

    â— ğŸ’¨ ğŸ‡
        ğŸ’­ update snake's body position
        â†ª direction ğŸ™Œ ğŸ”¤upğŸ”¤ ğŸ‡
            ğŸ½ snake_pos 1â—â–1 â¡ï¸ ğŸ½ snake_pos 1â—
        ğŸ‰
        ğŸ™…â†ª direction ğŸ™Œ ğŸ”¤downğŸ”¤ ğŸ‡
            ğŸ½ snake_pos 1â—â•1 â¡ï¸ ğŸ½ snake_pos 1â—
        ğŸ‰
        ğŸ™…â†ª direction ğŸ™Œ ğŸ”¤rightğŸ”¤ ğŸ‡
            ğŸ½ snake_pos 0â—â•1 â¡ï¸ ğŸ½ snake_pos 0â—
        ğŸ‰
        ğŸ™…â†ª direction ğŸ™Œ ğŸ”¤leftğŸ”¤ ğŸ‡
            ğŸ½ snake_pos 0â—â–1 â¡ï¸ ğŸ½ snake_pos 0â—
        ğŸ‰

        ğŸ’­ put the head at the new position
        ğŸµ snake_body 0 snake_posâ—ï¸
        ğŸ‘‡ğŸ´â“ â¡ is_eat
        ğŸ’­ if the snake didn't eat apple, pop the snake's body
        â†ª âis_eatâ— ğŸ‡
            ğŸ¼ snake_body â—ï¸
        ğŸ‰
    ğŸ‰


    â— ğŸ ğŸ‡
        ğŸ’­ keep generating random position for the apple
        ğŸ’­ until it doesn't overlap with the snake's body
        ğŸ‘ â¡ ğŸ–ğŸ†• overlap
        ğŸ” overlap ğŸ‡
            ğŸ‘ â¡ ğŸ– overlap
            ğŸ”¢ rng 0 game_width â–1â—ï¸ â¡ ğŸ½apple_pos 0â—
            ğŸ”¢ rng 0 game_height â–1â—ï¸ â¡ ğŸ½apple_pos 1â—
            ğŸ”‚ body snake_body ğŸ‡
                â†ª apple_pos ğŸ™Œ body ğŸ‡
                    ğŸ‘ â¡ ğŸ– overlap
                ğŸ‰
            ğŸ‰
        ğŸ‰
    ğŸ‰

    â“ ğŸ´ â¡ ğŸ‘Œ ğŸ‡
        ğŸ’­ if the snake eat the apple
        â†ª apple_pos ğŸ™Œ ğŸ½ snake_body 0â— ğŸ‡
            â†© ğŸ‘
        ğŸ‰
        â†© ğŸ‘
    ğŸ‰

    â— â­ ğŸ‡
        score â¬…â•1
    ğŸ‰

    â“ ğŸŒŸ â¡ ğŸ‘ŒğŸ‡
        â†ª score ğŸ™Œ game_width âœ– game_height â– 1 ğŸ‡
            â†© ğŸ‘
        ğŸ‰
        â†© ğŸ‘
    ğŸ‰

    â“ ğŸ§± â¡ ğŸ‘Œ ğŸ‡
        ğŸ½ snake_body 0 â—â¡ head
        ğŸ½ head 0 â—â¡ head_x
        ğŸ½ head 1 â—â¡ head_y

        ğŸ’­ check if the head position isn't within the game grid
        â†ª head_x â–¶ game_widthâ–1 ğŸ‘ head_x â—€ 0 ğŸ‘ head_y â–¶ game_heightâ–1 ğŸ‘ head_y â—€ 0 ğŸ‡
            â†© ğŸ‘
        ğŸ‰
        â†© ğŸ‘
    ğŸ‰

    â“ ğŸ’€ â¡ ğŸ‘Œ ğŸ‡
        ğŸ½ snake_body 0 â—â¡ head
        ğŸ”‚ i ğŸ†•â© 1 ğŸ“snake_bodyâ“ â— ğŸ‡
            â†ª head ğŸ™Œ ğŸ½snake_body iâ— ğŸ‡
                â†© ğŸ‘
            ğŸ‰
        ğŸ‰
        â†© ğŸ‘
    ğŸ‰

    â— ğŸ“½ ğŸ‡
        ğŸ’­ current frame game grid
        ğŸ–ğŸ†• grid ğŸ¨ğŸš ğŸ¨ğŸšğŸ”¡ğŸ† ğŸ†
        ğŸ¿ğŸ† â¡ ğŸ– grid

        ğŸ’­ fill the background with blue squares
        ğŸ”‚ i ğŸ†•â© 0 game_heightâ—ï¸  ğŸ‡
            ğŸ–ğŸ†• row ğŸ¨ğŸšğŸ”¡ğŸ†
            ğŸ¿ğŸ† â¡ ğŸ– row
            ğŸ”‚ j ğŸ†•â© 0 game_widthâ—ï¸  ğŸ‡
                ğŸ» row ğŸ”¤ğŸŸ¦ğŸ”¤â—
            ğŸ‰
            ğŸ» grid row â—
        ğŸ‰

        ğŸ’­ put the apple on the grid
        ğŸ½ apple_pos 0â— â¡ apple_x
        ğŸ½ apple_pos 1â— â¡ apple_y
        ğŸ”¤ğŸğŸ”¤ â¡ ğŸ½ ğŸ½ grid apple_y â— apple_xâ— ğŸ’­ grid[apple_y][apple_x]

        ğŸ’­ put the snake's body on the grid
        ğŸ”‚ i ğŸ†•â© 0 ğŸ“snake_bodyâ“ â—ï¸ ğŸ‡
            ğŸ½ snake_body iâ— â¡ body
            ğŸ½ body 0â— â¡ body_x
            ğŸ½ body 1â— â¡ body_y
            â†ª i ğŸ™Œ 0 ğŸ‡
                ğŸ”¤ğŸğŸ”¤ â¡ ğŸ½ ğŸ½ grid body_y â— body_xâ— ğŸ’­ grid[body_y][body_x]
            ğŸ‰
            ğŸ™…â€â™€ï¸ ğŸ‡
                ğŸ”¤ğŸŸ©ğŸ”¤ â¡ ğŸ½ ğŸ½grid body_yâ— body_xâ—
            ğŸ‰
        ğŸ‰

        ğŸ’­ put the terminal cursor to the upper-left of the screen
        ğŸ•´ğŸ‡ğŸ’» ğŸ”¤echo -n "\e[H"ğŸ”¤ â—
        ğŸ’­ render score
        ğŸ˜€ ğŸ”¤score: ğŸ§²scoreğŸ§²ğŸ”¤â—
        ğŸ’­ render the game screen
        ğŸ”‚ row grid ğŸ‡
            ğŸ”‚ column row ğŸ‡
                ğŸ‘„ columnâ—
            ğŸ‰
            ğŸ˜€ğŸ”¤ğŸ”¤â—
        ğŸ‰

        ğŸ’­ game information
        â†ª show_info ğŸ‡
            ğŸ˜€ directionâ—
            ğŸ”¡ğŸ½ snake_pos 0 â—â— â¡ snake_pos_x
            ğŸ”¡ğŸ½ snake_pos 1 â—â— â¡ snake_pos_y
            ğŸ˜€ ğŸ”¤x: ğŸ§²snake_pos_xğŸ§²ğŸ”¤â—
            ğŸ˜€ ğŸ”¤y: ğŸ§²snake_pos_yğŸ§²ğŸ”¤â—
        ğŸ‰
    ğŸ‰

    â— â¸ menu_texts ğŸ¨ğŸšğŸ”¡ğŸ† â¡ ğŸ”¢ ğŸ‡
        0 â¡ ğŸ–ğŸ†• selected_idx
        ğŸ‘ â¡ ğŸ–ğŸ†• user_have_choose

        ğŸ” â user_have_choose â— ğŸ‡
            ğŸ’­ get key from user
            ğŸ“¥ğŸ‡ğŸ–¥â— â¡ input

            ğŸ’­ up direction
            â†ª input ğŸ™Œ 87 ğŸ‘ input ğŸ™Œ 119 ğŸ‡
                â†ª selected_idx â–¶ 0 ğŸ‡
                    selected_idx â¬…â– 1
                ğŸ‰
                ğŸ™…â€â™€ï¸ ğŸ‡
                    ğŸ“ menu_texts â“â–1 â¡ ğŸ– selected_idx
                ğŸ‰
            ğŸ‰
            ğŸ’­ down direction
            ğŸ™…â†ªï¸ input ğŸ™Œ 83 ğŸ‘ input ğŸ™Œ 115  ğŸ‡
                â†ª selected_idx â—€ ğŸ“ menu_texts â“â–1 ğŸ‡
                    selected_idx â¬…â• 1
                ğŸ‰
                ğŸ™…â€â™€ï¸ ğŸ‡
                    0 â¡ ğŸ– selected_idx
                ğŸ‰
            ğŸ‰
            ğŸ’­ player presses enter
            ğŸ™…â†ªï¸ input ğŸ™Œ 10 ğŸ‡
                ğŸ‘ â¡ ğŸ–user_have_choose
            ğŸ‰

            ğŸ’­ redraw the screen if the user interact with the menu
            ğŸ•´ğŸ‡ğŸ’» ğŸ”¤clearğŸ”¤â—

            ğŸ˜€ ğŸ”¤Your score: ğŸ§²ğŸ”¡scoreâ—ğŸ§²ğŸ”¤â—

            ğŸ”‚ i ğŸ†•â© 0 ğŸ“ menu_texts â“ â— ğŸ‡
                ğŸ½ menu_texts i â— â¡ text
                â†ª selected_idx ğŸ™Œ i ğŸ‡
                    ğŸ˜€ ğŸ”¤â¡  ğŸ§² text ğŸ§²ğŸ”¤â— 
                ğŸ‰
                ğŸ™…â€â™€ï¸ ğŸ‡
                    ğŸ˜€ text â— 
                ğŸ‰
            ğŸ‰

            ğŸ•´ğŸ‡ğŸ’» ğŸ”¤sleep 0.2ğŸ”¤â—
        ğŸ‰ 
        â†© selected_idx
    ğŸ‰

    â— ğŸ´ ğŸ‡
        ğŸ’­ clear the screen
        ğŸ•´ğŸ‡ğŸ’» ğŸ”¤clearğŸ”¤â—
        ğŸ’­ set terminal to cbreak mode
        âœğŸ‡ğŸ–¥â—
        ğŸ’­ hide the cursor
        ğŸ•´ğŸ‡ğŸ’» ğŸ”¤echo "\e[?25l"ğŸ”¤ â—
        ğŸ’­ default direction
        ğŸ”¤rightğŸ”¤ â¡ ğŸ– direction
        ğŸ’­ initial position of the snake
        ğŸ¿ ğŸ¿0 0ğŸ† ğŸ† â¡ ğŸ– snake_body
        ğŸ’­ initial position where the snake heading
        ğŸ¿0 0ğŸ† â¡ ğŸ– snake_pos
        ğŸ’­ initial position of the apple
        ğŸ‘‡ğŸâ—
        ğŸ’­ initial score of 0
        0 â¡ ğŸ– score
        ğŸ‘‡ğŸ“½â—
    ğŸ‰

    â— ğŸ”š ğŸ‡
        ğŸ’­ restore the terminal mode
        ğŸ¤šğŸ‡ğŸ–¥â—
        ğŸ’­ show the cursor
        ğŸ•´ğŸ‡ğŸ’» ğŸ”¤echo -n "\e[?25h"ğŸ”¤ â—
        ğŸ’­ exit with the status code of 0
        ğŸ‘ â¡ ğŸ– running
    ğŸ‰

    ğŸ†• ğŸ‡
        ğŸ’­ call the method to initialize the game
        ğŸ‘‡ğŸ´â—
    ğŸ‰
ğŸ‰

ğŸ ğŸ‡
    ğŸ†•ğŸ® â— â¡ game
    
    ğŸ” ğŸƒâ€â™€ï¸ game â“ ğŸ‡
        ğŸ“½ game â—
        ğŸ’­ handle user input
        ğŸ•¹ game â“ â¡ key
        ğŸ’­ interpret user input
        ğŸ›‘ game key â—
        ğŸ’­ update snake position
        ğŸ’¨ game â—
        ğŸ’­ check if the snake eat the apple
        â†ª ğŸ´ game â“ ğŸ‡
            â­ game â—
            â†ª âğŸŒŸ game â“â— ğŸ‡
                ğŸ’­ generate new apple
                ğŸ game â—
            ğŸ‰
        ğŸ‰

        ğŸ’­ check if the snake bump into walls, eat it's own body, or reach the maximum score
        â†ª ğŸ§± game â“ ğŸ‘ ğŸ’€ game â“ ğŸ‘ ğŸŒŸ game â“ ğŸ‡
            ğŸ¿ ğŸ”¤Try againğŸ”¤ ğŸ”¤QuitğŸ”¤ ğŸ† â¡ menu_texts
            â¸ game menu_texts â— â¡ selected_idx
            â†ª selected_idx ğŸ™Œ 0 ğŸ‡
                ğŸ´ game â—
            ğŸ‰
            ğŸ™…â€â™€ï¸â†ª selected_idx ğŸ™Œ 1 ğŸ‡
                ğŸ”š game â—
            ğŸ‰
        ğŸ‰
        ğŸ™…â€â™€ï¸ ğŸ‡
            ğŸ“½ game â—
        ğŸ‰

        ğŸ•´ğŸ‡ğŸ’» ğŸ”¤sleep 0.2ğŸ”¤ â—
    ğŸ‰
ğŸ‰